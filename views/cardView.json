{
    "view": {
        "$schema": "http://adaptivecards.io/schemas/adaptive-card.json",
        "type": "AdaptiveCard",
        "version": "1.2",
        "body": [
            {
                "type": "TextBlock",
                "size": "Large",
                "weight": "Bolder",
                "text": "**${action.dataTables[0].dataColumns[0].displayName}**"
            },
            {
                "type": "Container",
                "items": [
                    {
                        "type": "ColumnSet",
                        "columns": [
                            {
                                "type": "Column",
                                "width": "stretch",
                                "items": [
                                    {
                                        "type": "TextBlock",
                                        "weight": "Bolder",
                                        "text": "${if(equals(action.status, 'Active'), formatString(strings.dueByDate, ('' + dateString(action.expiryTime, 'SHORT') + ' ' + timeString(action.expiryTime))),strings.GameExpired)}",
                                        "isSubtle": true,
                                        "wrap": true,
                                        "spacing": "None"
                                    },
                                    {
                                        "type": "TextBlock",
                                        "weight": "Bolder",
                                        "text": "${strings.AllowMultipleTimePlay}",
                                        "spacing": "None"
                                    }
                                ]
                            }
                        ],
                        "style": "emphasis"
                    },
                    {
                        "type": "ColumnSet",
                        "columns": [
                            {
                                "type": "Column",
                                "width": "stretch",
                                "items": [
                                    {
                                        "type": "ColumnSet",
                                        "columns": [
                                            {
                                                "type": "Column",
                                                "width": "stretch",
                                                "items": [
                                                    {
                                                        "id": "NoResponder",
                                                        "type": "TextBlock",
                                                        "$when": "${equals(summary.rowCreatorCount, 0)}",
                                                        "_$when.comment": "when no one responeded on game",
                                                        "text": "${strings.BeTheFirstOneToRespond}",
                                                        "size": "small",
                                                        "weight": "bolder",
                                                        "maxLines": 2,
                                                        "wrap": true,
                                                        "spacing": "small"
                                                    },
                                                    {
                                                        "id": "OneResponded",
                                                        "type": "TextBlock",
                                                        "$when": "${equals(summary.rowCreatorCount, 1)}",
                                                        "_$when.comment": "when the count of responder is 1",
                                                        "text": "${formatString(strings.OneResponded, responders[0].displayName)}",
                                                        "size": "small",
                                                        "weight": "bolder",
                                                        "maxLines": 2,
                                                        "wrap": true,
                                                        "spacing": "small"
                                                    },
                                                    {
                                                        "id": "TwoResponded",
                                                        "type": "TextBlock",
                                                        "$when": "${equals(summary.rowCreatorCount, 2)}",
                                                        "_$when.comment": "when the count of responders is 2",
                                                        "text": "${formatString(strings.TwoResponded, responders[0].displayName, responders[1].displayName)}",
                                                        "size": "small",
                                                        "weight": "bolder",
                                                        "maxLines": 2,
                                                        "wrap": true,
                                                        "spacing": "small"
                                                    },
                                                    {
                                                        "id": "ThreeResponded",
                                                        "type": "TextBlock",
                                                        "$when": "${equals(summary.rowCreatorCount, 3)}",
                                                        "_$when.comment": "when the count of responders is 3",
                                                        "text": "${formatString(strings.ThreeResponded, responders[0].displayName, responders[1].displayName, responders[2].displayName)}",
                                                        "size": "small",
                                                        "weight": "bolder",
                                                        "maxLines": 2,
                                                        "wrap": true,
                                                        "spacing": "small"
                                                    },
                                                    {
                                                        "id": "FourResponded",
                                                        "type": "TextBlock",
                                                        "$when": "${equals(summary.rowCreatorCount, 4)}",
                                                        "_$when.comment": "when the count of responders is 4",
                                                        "text": "${formatString(strings.ThreeAndOneOtherResponded, responders[0].displayName, responders[1].displayName, responders[2].displayName)}",
                                                        "size": "small",
                                                        "weight": "bolder",
                                                        "maxLines": 2,
                                                        "wrap": true,
                                                        "spacing": "small"
                                                    },
                                                    {
                                                        "id": "MoreResponded",
                                                        "type": "TextBlock",
                                                        "$when": "${greater(summary.rowCreatorCount, 4)}",
                                                        "_$when.comment": "when the count of responder is greater than 4",
                                                        "text": "${formatString(strings.ThreeAndOthersResponded, responders[0].displayName, responders[1].displayName, responders[2].displayName, sub(summary.rowCreatorCount, 3))}",
                                                        "size": "small",
                                                        "weight": "bolder",
                                                        "maxLines": 2,
                                                        "wrap": true,
                                                        "spacing": "small"
                                                    }
                                                ]
                                            }
                                        ]
                                    }
                                ]
                            }
                        ]
                    }
                ]
            }
        ],
        "actions": [
            {
                "id": "PalyButton",
                "title": "${strings.Play}",
                "command": "LaunchActionPackageView",
                "parameters": {
                    "viewName": "UpdateView"
                }
            },
            {
                "id": "SummaryButton",
                "title": "${strings.Leaderboard}",
                "command": "LaunchActionPackageView",
                "parameters": {
                    "viewName": "SummaryView"
                }
            }
        ]
    },
    "data": {
        "strings": {
            "command": "GetLocalizedStrings"
        },
        "action": {
            "command": "GetAction"
        },
        "summary": {
            "command": "GetActionDataRowsSummary",
            "parameters": {
                "addDefaultAggregates": true
            }
        },
        "responses": {
            "command": "GetActionDataRows",
            "parameters": {
                "pageSize": 3
            }
        },
        "creator": {
            "command": "GetSubscriptionMembers",
            "parameters": {
                "memberIds": [
                    "$ActionCreator"
                ]
            }
        },
        "responders": {
            "command": "GetSubscriptionMembers",
            "parameters": {
                "memberIds": [
                    "$ActionDataRowCreators"
                ]
            }
        }
    }
}